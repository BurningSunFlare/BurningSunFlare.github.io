<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon"; type="image/png"; href="/Images/Icon/Main.png">
  <title>JSON Box System with Image Upload and Save/Load</title>
  <style>

.fade-in
{
    opacity: 0;
    transition: opacity 3s ease-in-out;
}

.video-left, .video-right
{
    position: fixed;
    bottom: 20px; /* Ensure consistent vertical alignment */
}

.centered
{
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.visible
{
    display: block; /* Make the element visible */
    opacity: 1;
}
aside
{
    width:30%;
    float:left;
    padding:10px;
    text-align: center;
}
section
{
    width:25%;
    float:left;
    padding:10px;
    text-align: center;
}
article
{
    width:25%;
    float:left;
    padding:10px;
    text-align: center;
}
footer
{
    clear:both;
}
footer::after 
{
    content: "";
    display: table;
    clear: both;
}

@media screen and ( max-width:600px )
{
    aside, section, article
    {
        width:100%;
    }
}



body
{
  background: linear-gradient(to left, #0e052e, #1c1c1c);
  -webkit-background-clip: text;
  background-clip: text;
  color: lightskyblue;
  animation: body 10s ease-in-out infinite;
  background-size: 400% 100%;
  margin: 0; /* Remove default margin */
  padding: 0; /* Remove default padding */
  box-shadow: 5px 10px 8px hsl(241, 86%, 11%)
}

body.non-chromium
{
  background: linear-gradient(to left, #0e052e, #1c1c1c);
}

div{box-shadow: 5px 10px 8px hsl(241, 86%, 11%)}

.console
{
  clear: both;
  box-shadow:none;
  margin-top: auto; /* Pushes it to the bottom */
}

@keyframes console-line-cursor-blink {
    0% {color: #000;}
    49% {color: #000;}
    50% {color: #fff;}
    100% {color: #fff;}
}


.console-line-cursor:after {
  content:"\2588";
  animation-name:"console-line-cursor-blink";
  animation-duration:500ms;
  animation-timing-function:steps(start,end);
  animation-iteration-count:infinite
}

.relah
{
  background-image: url(/Images/Relah.webp);
  display: block;
  margin: 0 auto;
}
.esc
{
  display: block;
  margin: 0 auto;
}

.papa
{
  background-image: url(/Images/ppQuillBanner.gif);
  display: block;
  margin-top:150px;
  margin: 15px auto;
  height: 100%;
  padding-top: 150px;
  background-repeat: no-repeat;
  background-position: center;
}

.breaklines
{
  width:100%;
  display:block;
  margin-top:100px;
  margin: 550px auto;
}

.noal p
{
  text-align: left;
  background-color: #000;
  color:#00ff4c;
  font-family:"Source Code Pro";
  font-size:20px;
  margin:0;
  word-break:break-all
}

footer p{ text-align: center; }

@keyframes body {
    0%,100% {
        background-position: 0 0;
    }

    50% {
        background-position: 100% 0;
    }
}
    ::placeholder{ color:cornflowerblue }
    .box { border: 1px solid #34179d; padding: 10px; margin: 10px; background-color: hsl(211, 94%, 6%); box-shadow: 5px 10px 8px hsl(241, 86%, 11%); background: transparent;background-image: none; }
    .hidden { display: none; }
    .collection, .item { border: 1px dashed #2959c9; padding: 5px; margin-top: 5px; box-shadow: 5px 6px 8px #0d1f4885 }
    .inbox
    {
      background-color: #56209e43;
      color: rgb(147, 194, 255);
      border: 2px solid #4a297e;
      border-radius: 8px;
    }

    .inbox:hover
    {
      border-color: #7426b3;
    }

    .inbox:focus
    {
        outline: 2px solid #7426b3;
        font-weight:bold;
        color: rgb(147, 255, 194);
    }

    .button3
    {
      background-color: #56209e43;
      color: rgb(147, 194, 255);
      border: 2px solid #4a297e;
    }

    .button3:hover
    {
      border-color: lightblue;
    }


    .short
    {
      width: 75px;
    }
    .semishort
    {
      width: 90px;
    }
    .semishort:focus
    {
      color:lightblue;
      background-color: #42005c;
    }
    .supershort
    {
      width: 36px;
    }
    .tick
    {
      accent-color: green;
    }
    .tick:not(:checked)
    {
      -webkit-appearance: none;
      -moz-appearance: none;
      -o-appearance: none;
      appearance:none;
      width: 10px;
      height: 10px;
      background-color: rgb(171, 9, 9);
      border: 0px dotted #931414;
      color: red;
      content: "x";
    }
    
.rainbow
{
    text-align: center;
    text-decoration: underline;
    font-size: 32px;
    font-family: monospace;
    letter-spacing: 5px;
}

.rainbow_text_animated
{
    background: linear-gradient(to right, #6666ff, #0099ff , #00ff00, #ff3399, #6666ff);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: rainbow_animation 10s ease-in-out infinite;
    background-size: 400% 100%;
}
@keyframes rainbow_animation {
    0%,100% {
        background-position: 0 0;
    }

    50% {
        background-position: 100% 0;
    }
}
hr
{
  background: linear-gradient(to right, #3b1194, #22095a);
  height: 5px;
  border:0
}

a
{
    text-align: center;
    color:rgb(162, 100, 237);
}
a:hover
{
    text-align: center;
    color:rgb(202, 165, 245);
}
.frame
{
  background-color: #56209e43;
  border: none;
  border-radius: 2px;
  color: rgb(22, 67, 127);
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  transition-duration: 0.4s;
}
.frame:hover {
  background-color: #0e11106d; /* Green */
  color: white;
}
.upload
{
  background-color: #56209e43; /* Green */
  border: none;
  border-radius: 2px;
  color: rgb(147, 194, 255);
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  transition-duration: 0.4s;
}
.upload:hover {
  background-color: #0e11106d; /* Green */
  color: white;
}
.button1
{
  background-color: #04AA6D; /* Green */
  border: none;
  border-radius: 2px;
  color: rgb(22, 67, 127);
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  transition-duration: 0.4s;
}
.button1:hover {
  background-color: #0e1110; /* Green */
  color: white;
}

.button2
{
  background-color: #04AA6D; /* Green */
  border: none;
  width: 120px;
  height: 60px;
  margin-top: 25px;
  border-radius: 2px;
  color: rgb(22, 67, 127);
  padding: 20px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  transition-duration: 0.4s;
}
.button2:hover {
  background-color: #2f055f; /* Green */
  color: rgb(0, 146, 250);
}

.tooltip .tooltiptext {
  width: 120px;
  top: 100%;
  left: 50%;
  margin-left: -60px; /* Use half of the width (120/2 = 60), to center the tooltip */
}

h2 {text-align: center;}


  </style>
</head>
<body>
<hr>
<h2 class="rainbow rainbow_text_animated">Ultrasound Editor</h2>
<hr>
<div>
  
  Themer: <select id="themer" class="inbox semishort">
    <option value="1" selected>Default</option>
    <option value="2">Bubblegum Theme</option>
</select>
</div>
<div id="editor-container">
  <h1>CSS Element Editor</h1>
  <div>
      <label for="css-element" onclick="createInput(event, this)">Select CSS Element:</label>
      <select id="css-element">
          <option value="body">body</option>
          <option value="body.non-chromium">body.non-chromium</option>
          <option value=".rainbow">.rainbow</option>
      </select>
  </div>
  <textarea id="css-textbox" rows="10" placeholder="Edit CSS properties here..."></textarea>
  <div id="color-picker-container">
      <label for="color-picker">Choose a color:</label>
      <input type="color" id="color-picker" />
  </div>
  <div id="controls">
    <button id="copy-css">Copy to Clipboard</button>
    <button id="save-json">Save as JSON</button>
    <button id="load-json">Load JSON</button>
    <button id="add-to-export">Add To Export</button>
    <button id="export-items">List Of Items:</button>
    <input type="file" id="file-input" accept=".json" hidden />
</div>
</div>


<p class = "hidden mainboy"></p>
<div id="mainBox" class="box">
  <h3 id="mainTitle" contenteditable="true">Default Title</h3>
  <img id="mainImage" src="/Images/Icon/Kittyd.gif" alt="Main Image" width="256" height="256" class="frame">
  <br>
  <input type="file" onchange="updateImage(this, 'mainImage')" class="upload">
  <p id="mainCredits" contenteditable="true">This is where the credits go</p>
  <button class="button3" onclick="addCollection()">Add Collection</button>
  <div id="collectionsContainer"></div>
</div>

<div>
  <hr>
  <button class = "button3">Ultrabox</button>
  <button class = "button3">Abyssbox</button>
  <br>
  <span class="tooltiptext">Grab your base url. Abyssbox or Ultrabox for example, then click Load Samples</span>
  <br>
  <button class = "button3">Load Samples</button>
</div>
<footer>
<hr>
</footer>

<script>
loadJSON('/Websites/Default.json')
const isChromium = !!window.chrome;
if ( !isChromium )
{
  console.log("This browser is not intended for firefox or safari or anything not chromium based");
  document.body.classList.add('non-chromium');
}

const sampleUrls =
[

];

const audioCtx = new AudioContext();

  let isEditMode = true;
  let totalitems = 1;
  let totalcontainers = 0;
  var isPlaying = false;
  var isWaiting = false;
  var menu = document.getElementById("themer");
  
  menu.addEventListener( "change", function ()
  {
    setCookie( "selectedTheme", menu.value, 365 );
    generateTheme( menu.value );
  }
  );
  
  function generateTheme( value ) 
  {
    switch( value )
    {
      case "1":
        defaultTheme();
      break;
      case "2":
        bubbleTheme();
      break;
      case "3":
        console.log("This theme does not exist");
      break;
      default: alert("What the sigma? Theme broken?");
    }
  }
  
  function setCookie( name, value, days )
  {
    const date = new Date();
    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
    //document.cookie = `${name}=${value};expires=${date.toUTCString()};path=/`;
  }
  
  function defaultTheme()
  {
    let datheme = 
    [
      "::placeholder{ color:cornflowerblue }",
      ".box {  border: 1px solid #34179d; box-shadow: 5px 10px 8px hsl(241, 86%, 11%); background: transparent; background-image: none }",
      ".collection, .item { border: 1px dashed #2959c9; padding: 5px; margin-top: 5px; box-shadow: 5px 6px 8px #0d1f4885 }",
      `body.non-chromium {background: linear-gradient(to left, #0e052e, #1c1c1c);}`,
      "body {background: linear-gradient(to left, #0e052e, #1c1c1c);-webkit-background-clip: text;background-clip: text;color: lightskyblue;animation: body 10s ease-in-out infinite;background-size: 400% 100%;margin: 0; /* Remove default margin */padding: 0; /* Remove default padding */box-shadow: 5px 10px 8px hsl(241, 86%, 11%)}",
      "div {box-shadow: 5px 10px 8px hsl(241, 86%, 11%)}",
      "footer p { text-align: center; }",
  
      ".inbox{ background-color: #56209e43; color: rgb(147, 194, 255); border: 2px solid #4a297e; border-radius: 8px; }",
      ".inbox:hover{ border-color: #7426b3; }",
      ".inbox:focus{ outline: 2px solid #7426b3; font-weight:bold; color: rgb(147, 255, 194); }",
  
      ".button3{ background-color: #56209e43;color: rgb(147, 194, 255); border: 2px solid #4a297e; }",
      ".button3:hover{ border-color: lightblue; }",
      `
      .semishort:focus
      {
        color:lightblue;
        background-color: #42005c;
      }
      `,
  
      `
      .tick
      {
        accent-color: green;
      }
      `,
  
      `
      .tick:not(:checked)
      {
        -webkit-appearance: none;
        -moz-appearance: none;
        -o-appearance: none;
        appearance:none;
        width: 10px;
        height: 10px;
        background-color: rgb(171, 9, 9);
        border: 0px dotted #931414;
        color: red;
        content: "x";
      }
      `,
  `
  hr
  {
    background: linear-gradient(to right, #3b1194, #22095a);
    height: 5px;
    border:0
  }
  `,
  
  `
  a
  {
      text-align: center;
      color:rgb(162, 100, 237);
  }
  `,
  
  `
  a:hover
  {
      text-align: center;
      color:rgb(202, 165, 245);
  }
  `,
  
  `
  .frame
  {
    background-color: #56209e43;
    border: none;
    border-radius: 2px;
    color: rgb(22, 67, 127);
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    transition-duration: 0.4s;
  }
  `,
  
  `
  .frame:hover
  {
    background-color: #0e11106d; /* Green */
    color: white;
  }
  `,
  
  `
  .upload
  {
    background-color: #56209e43; /* Green */
    border: none;
    border-radius: 2px;
    color: rgb(147, 194, 255);
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    transition-duration: 0.4s;
  }
  `,
  
  `
  .upload:hover
  {
    background-color: #0e11106d; /* Green */
    color: white;
  }
  `,
  
  `
  .button1
  {
    background-color: #04AA6D; /* Green */
    border: none;
    border-radius: 2px;
    color: rgb(22, 67, 127);
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    transition-duration: 0.4s;
  }
  `,
  
  `
  .button1:hover {
    background-color: #0e1110; /* Green */
    color: white;
  }
  `,
  
  `
  .button2
  {
    background-color: #04AA6D;
    border: none;
    width: 120px;
    height: 60px;
    margin-top: 25px;
    border-radius: 2px;
    color: rgb(22, 67, 127);
    padding: 20px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    transition-duration: 0.4s;
  }
  `,
  
  `
  .button2:hover {
    background-color: #2f055f; /* Green */
    color: rgb(0, 146, 250);
  }
  `,
  
  `
  .tooltip .tooltiptext {
    width: 120px;
    top: 100%;
    left: 50%;
    margin-left: -60px; /* Use half of the width (120/2 = 60), to center the tooltip */
  }
  `,
  
  
  "h2 {text-align: center;}",
  
  
    ]
    changeItemTheme( datheme )
  }
  
  function bubbleTheme()
  {
    
    let datheme = 
    [
      ".box { border: 1px solid #cc30cf;box-shadow: 5px 10px 8px hsl(241, 86%, 11%); background: linear-gradient(to left, #f241c3, #f57ad4); background-image: url('https://images.pexels.com/photos/325526/pexels-photo-325526.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2') }",
      ".collection, .item { border: 1px dashed #FF59c9; padding: 5px; margin-top: 5px; box-shadow: 5px 6px 8px #AF29B9 }",
      "body {background: linear-gradient(to left, #dd42f5, #Fd62f5);-webkit-background-clip: text;background-clip: text;color: #4f136e;animation: body 0s ease-in-out infinite;background-size: 100% 100%;margin: 0; /* Remove default margin */padding: 0; /* Remove default padding */box-shadow: 5px 10px 8px #AF29B9 }",
      `body.non-chromium {background: linear-gradient(to left, #dd42f5, #Fd62f5);}`,
      "div {box-shadow: 5px 10px 8px #AF29B9}",
      "footer p { text-align: center; }",
  
      ".inbox{ background-color: rgb(240 120 219 / 94%); color: white; 2px solid rgb(152 73 133); border-radius: 8px; }",
      ".inbox:hover{ border-color: #7426b3; }",
      ".inbox:focus{ outline: 2px solid #4f136e; font-weight:bold; color: rgb(255 211 197); }",
  
      ".button3{ background-color: rgb(246 122 248);color: white; border: 2px solid rgb(192 43 156); }",
      ".button3:hover{ border-color: white; }",
      "::placeholder{ color:lightpink }",
  
      `
      .tick
      {
        accent-color: lightpink;
      }
      `,
  
      `
      .tick:not(:checked)
      {
        -webkit-appearance: none;
        -moz-appearance: none;
        -o-appearance: none;
        appearance:none;
        width: 10px;
        height: 10px;
        background-color: crimson;
        border: 0px dotted pink;
        color: pink;
        content: "x";
      }
      `,
  `
  hr
  {
    background: linear-gradient(to right, #8f2974, #f739c5);
    height: 5px;
    border:0
  }
  `,
  
    ]
    changeItemTheme( datheme )
  }
  
  function changeItemTheme( item )
  {
    const styleSheet = document.styleSheets[0];
    if( typeof( item ) == "object" )
    {
      for (let index = 0; index < item.length; ++index)
      {
        styleSheet.insertRule( item[index], styleSheet.cssRules.length );
      }
    }
    else
    styleSheet.insertRule( item, styleSheet.cssRules.length )
  }
  
  function sleep( ms )
  {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
  
  function getCookie( name )
  {
    const cookies = document.cookie.split( "; " );
    for ( const cookie of cookies )
    {
      const [ key, value ] = cookie.split( "=" );
      if ( key === name )
      {
        return value;
      }
    }
    return null;
  }
  
  function toggleMode()
  {
    isEditMode = !isEditMode;
    document.getElementById("mainBox").contentEditable = isEditMode ? "true" : "false";
  }
  
  function createBox()
  {
    document.getElementById("mainBox").classList.remove("hidden");
  }
  
  function updateImage( input, imageId )
  {
    const file = input.files[0];
    const reader = new FileReader();
    reader.onload = function(e)
    {
      document.getElementById(imageId).src = e.target.result;
    };
    if (file) reader.readAsDataURL(file);
  }
  
  function addCollection(data = null)
  {
    const container = document.createElement("div");
    container.classList.add("collection");
  
    const collectionImageId = `collectionImage${document.getElementsByClassName('collection').length}`;
    container.innerHTML = `
      <h4 contenteditable="true">${data ? data.title : 'Collection Title'}</h4>
      <p contenteditable="true">${data ? data.description : 'Collection Description'}</p>
      <img id="${collectionImageId}" src="${data ? data.image : '/Images/Icon/missing.gif'}" alt="Collection Image" width="128" height="128" class="frame">
      <br>
      <input type="file" onchange="updateImage(this, '${collectionImageId}')" class="upload"">
      <p contenteditable="true">${data ? data.credits : 'Collection Credits'}</p>
      <button class="button3" onclick="addItem(this)">Add Item</button>
      <div class="items-container hidden"></div> <!-- Items container is hidden initially -->
      <span class="dropdown-arrow" onclick="toggleItemsVisibility(this)">&#9660;</span> <!-- Dropdown arrow -->
    `;
  
    const itemsContainer = container.querySelector(".items-container");
    if ( data && data.items )
    {
      data.items.forEach(item => addItem(container.querySelector('button'), item));
    }
  
    document.getElementById("collectionsContainer").appendChild(container);
  }
  
  function addItem(button, data = null)
  {
    const itemContainer = document.createElement("div");
    itemContainer.classList.add("item");
  
    itemContainer.innerHTML = `
      <label>Sound Name: <input type="text" value="${data ? data.soundName : ''}"class="inbox"></label>
      <label>Loop Start: <input type="number" value="${data ? data.loopStart : 0}"class="inbox short"></label>
      <label>Loop End: <input type="number" value="${data ? data.loopEnd : 0}"class="inbox short"></label>
      <label>Offset: <input type="number" value="${data ? data.offset : 0}"class="inbox short"></label>
      <label>Loop Type: 
        <select class = "inbox semishort">
          <option value="d0" ${data && data.loopType === 'd0' ? 'selected' : ''}>Loop</option>
          <option value="d1" ${data && data.loopType === 'd1' ? 'selected' : ''}>Ping Pong</option>
          <option value="d2" ${data && data.loopType === 'd2' ? 'selected' : ''}>Play Once</option>
          <option value="d3" ${data && data.loopType === 'd3' ? 'selected' : ''}>Loop Play Once</option>
        </select>
      </label>
      <label>Backwards: <input type="checkbox" ${data && data.backwards ? 'checked' : ''}class="tick"></label><br>
      <label>Link: <input type="text" placeholder="Enter item link" value="${data ? data.link : ''}"class="inbox"></label>
      <label> <input type="checkbox" ${data && data.export ? 'checked' : ''} class="hidden"></label>
    `;
    //<label>Export: <input type="checkbox" ${data && data.export ? 'checked' : ''}></label>
  
    button.nextElementSibling.appendChild(itemContainer);
  }
  
  function uploadJSON() {
    document.getElementById("fileInput").click();
    document.getElementById("daclear").value = "";
  }
  
  function loadJSON(url = '/Websites/Default.json') {
  fetch(url)
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      return response.json();
    })
    .then(data => {
      populateData(data);
    })
    .catch(error => {
      console.error('Error loading JSON:', error);
    });
}
  
  function populateData(jsonData) 
  {
    if (!jsonData) {
      alert("Invalid JSON format or missing data.");
      return;
    }
  
    const mainData = jsonData;
  
    document.getElementById("mainTitle").innerHTML = mainData.title || "Default Title";
    document.getElementById("mainImage").innerHTML = `<img src="${mainData.image || "/Images/Icon/missing.gif"}" alt="Main Image">`;
    document.getElementById("mainCredits").innerHTML = mainData.credits || "This is where the credits go";

  
    const collectionsContainer = document.getElementById("collectionsContainer");
    collectionsContainer.innerHTML = "";

  if (mainData.collections && mainData.collections.length > 0) {
    mainData.collections.forEach(collectionData => {
      const collectionElement = document.createElement("div");
      collectionElement.classList.add("collection");
  
      collectionElement.innerHTML = `
        <h4>${collectionData.title || "Collection Title"}</h4>
        <p>${collectionData.description || "Collection Description"}</p>
        <img src="${collectionData.image || "/Images/Icon/missing.gif"}" alt="Collection Image" width="128" height="128">
        <p>${collectionData.credits || "Collection Credits"}</p>
        <div class="items-container hidden"></div>
        <span class="dropdown-arrow" onclick="toggleItemsVisibility(this)">&#9660;</span>
      `;
  
      const itemsContainer = collectionElement.querySelector(".items-container");
      if (collectionData.items && collectionData.items.length > 0) {
        collectionData.items.forEach(item => {
          const itemElement = document.createElement("div");
          itemElement.classList.add("item");
  
          itemElement.innerHTML = `
            <input class="button_sound inbox all${totalitems} everything collection_sound${totalitems}" type="text" value="${item.soundName || ''}" placeholder="Sound Name">
            <input class="button_loopstart inbox short all${totalitems} everything collection_loopstart${totalitems}" type="number" value="${item.loopStart || 0}" placeholder="Loop Start">
            <input class="button_loopend inbox short all${totalitems} everything collection_loopend${totalitems}" type="number" value="${item.loopEnd || 0}" placeholder="Loop End">
            <input class="button_offset inbox short all${totalitems} everything collection_offset${totalitems}" type="number" value="${item.offset || 0}" placeholder="Offset">
            <select class="button_loop inbox semishort all${totalitems} everything collection_loop${totalitems}">
              <option value="d0" ${item.loopType === 'd0' ? 'selected' : ''}>Loop</option>
              <option value="d1" ${item.loopType === 'd1' ? 'selected' : ''}>Ping Pong</option>
              <option value="d2" ${item.loopType === 'd2' ? 'selected' : ''}>Play Once</option>
              <option value="d3" ${item.loopType === 'd3' ? 'selected' : ''}>Loop Play Once</option>
            </select>
            <input class="button_backward tick all${totalitems} everything collection_backward${totalitems}" type="checkbox" ${item.backwards ? 'checked' : ''}> <knot class="button_backward all${totalitems} everything collection_backward${totalitems}">Backwards</knot>
            <input class="button_link inbox semishort all${totalitems} everything collection_link${totalitems}" type="text" value="${item.link || ''}" placeholder="Item Link">
            <input class="button_export tick checkbox all${totalitems} everything collection_export${totalitems}" type="checkbox" ${item.export ? 'checked' : ''}> Export

            <button onclick="unhide_elements( ${totalcontainers}, this, '${item.link}' )"class="inbox semishort">Play</button>
            <select id="Playful${totalcontainers}" class="samplestuff${totalcontainers} Playful${totalcontainers} inbox semishort">
            <option value="1" selected>Once</option>
            <option value="2">Major</option>
            <option value="3">Minor</option>
            <option value="4">Diminished</option>
            <option value="5">Ascend</option>
            <option value="6">Descend</option>
            <option value="7">Appregio</option>
            <option value="8">Aggressive Appregio</option>
            </select>
            <label for="musical${totalcontainers}"></label>
            <input 
              type="number"
              min="12" 
              max="120" 
              value="60"
              id=musical${totalcontainers}
              class="samplestuff${totalcontainers} musical${totalcontainers} inbox semishort supershort all${totalitems} everything">
            <b class="noteDisplay${totalcontainers} inbox samplestuff${totalcontainers}">C4</b>
            
          `;

          itemsContainer.appendChild(itemElement);

          totalcontainers++;
        });
      }

      totalitems++;
  
      collectionsContainer.appendChild(collectionElement);
    });
  }
  }

  


  
  function toggleItemsVisibility(arrow)
  {
    const itemsContainer = arrow.parentElement.querySelector(".items-container");
    if (itemsContainer.classList.contains("hidden"))
    {
      itemsContainer.classList.remove("hidden");
      arrow.innerHTML = "&#9650;";
    }
    else
    {
      itemsContainer.classList.add("hidden");
      arrow.innerHTML = "&#9660;";
    }
  }
  
  function sleep(ms) 
  {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
  



  </script>

<script src="Editor.js"></script>

</body>
</html>
